{"version":3,"file":"main.js","sources":["../../src/js/modules/menu.js"],"sourcesContent":["class MobileMenu {\r\n  constructor() {\r\n    this.menuItems = document.querySelectorAll('.menu-item-has-children > a');\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    if (this.menuItems.length === 0) return;\r\n    this.menuItems.forEach(menuItem => {\r\n      menuItem.addEventListener('click', this.handleMenuItemClick.bind(this));\r\n    });\r\n  }\r\n\r\n  handleMenuItemClick(e) {\r\n    e.preventDefault();\r\n    const parent = e.currentTarget.parentElement;\r\n\r\n    if (parent.classList.contains('active')) {\r\n      // Se já está aberto, começa a fechar\r\n      parent.classList.add('closing');\r\n      parent.classList.remove('active');\r\n\r\n      // Aguarda o fim da animação de fechamento para remover 'closing'\r\n      const submenu = parent.querySelector('.sub-menu');\r\n      if (submenu) {\r\n        const onAnimationEnd = () => {\r\n          parent.classList.remove('closing');\r\n          submenu.removeEventListener('animationend', onAnimationEnd);\r\n        };\r\n        submenu.addEventListener('animationend', onAnimationEnd);\r\n      } else {\r\n        // Se não tiver submenu, remove direto\r\n        parent.classList.remove('closing');\r\n      }\r\n    } else {\r\n      // Abrir submenu\r\n      // Fecha outros abertos primeiro\r\n      document.querySelectorAll('.menu-item-has-children.active').forEach(item => {\r\n        item.classList.add('closing');\r\n        item.classList.remove('active');\r\n        const submenu = item.querySelector('.sub-menu');\r\n        if (submenu) {\r\n          const onAnimationEnd = () => {\r\n            item.classList.remove('closing');\r\n            submenu.removeEventListener('animationend', onAnimationEnd);\r\n          };\r\n          submenu.addEventListener('animationend', onAnimationEnd);\r\n        } else {\r\n          item.classList.remove('closing');\r\n        }\r\n      });\r\n\r\n      // Agora abre o atual\r\n      parent.classList.remove('closing');\r\n      parent.classList.add('active');\r\n    }\r\n  }\r\n}\r\n\r\n// Self-initialization\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  new MobileMenu();\r\n});\r\n\r\nexport default MobileMenu;\r\n"],"names":["MobileMenu","menuItem","e","parent","submenu","onAnimationEnd","item"],"mappings":"mBAAA,MAAMA,CAAW,CACf,aAAc,CACZ,KAAK,UAAY,SAAS,iBAAiB,6BAA6B,EACxE,KAAK,KAAI,CACX,CAEA,MAAO,CACD,KAAK,UAAU,SAAW,GAC9B,KAAK,UAAU,QAAQC,GAAY,CACjCA,EAAS,iBAAiB,QAAS,KAAK,oBAAoB,KAAK,IAAI,CAAC,CACxE,CAAC,CACH,CAEA,oBAAoBC,EAAG,CACrBA,EAAE,eAAc,EAChB,MAAMC,EAASD,EAAE,cAAc,cAE/B,GAAIC,EAAO,UAAU,SAAS,QAAQ,EAAG,CAEvCA,EAAO,UAAU,IAAI,SAAS,EAC9BA,EAAO,UAAU,OAAO,QAAQ,EAGhC,MAAMC,EAAUD,EAAO,cAAc,WAAW,EAChD,GAAIC,EAAS,CACX,MAAMC,EAAiB,IAAM,CAC3BF,EAAO,UAAU,OAAO,SAAS,EACjCC,EAAQ,oBAAoB,eAAgBC,CAAc,CAC5D,EACAD,EAAQ,iBAAiB,eAAgBC,CAAc,CACzD,MAEEF,EAAO,UAAU,OAAO,SAAS,CAErC,MAGE,SAAS,iBAAiB,gCAAgC,EAAE,QAAQG,GAAQ,CAC1EA,EAAK,UAAU,IAAI,SAAS,EAC5BA,EAAK,UAAU,OAAO,QAAQ,EAC9B,MAAMF,EAAUE,EAAK,cAAc,WAAW,EAC9C,GAAIF,EAAS,CACX,MAAMC,EAAiB,IAAM,CAC3BC,EAAK,UAAU,OAAO,SAAS,EAC/BF,EAAQ,oBAAoB,eAAgBC,CAAc,CAC5D,EACAD,EAAQ,iBAAiB,eAAgBC,CAAc,CACzD,MACEC,EAAK,UAAU,OAAO,SAAS,CAEnC,CAAC,EAGDH,EAAO,UAAU,OAAO,SAAS,EACjCA,EAAO,UAAU,IAAI,QAAQ,CAEjC,CACF,CAGA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,IAAIH,CACN,CAAC"}