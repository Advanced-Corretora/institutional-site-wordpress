{"version":3,"file":"main.js","sources":["../../src/js/modules/menu.js"],"sourcesContent":["class MobileMenu {\r\n  constructor() {\r\n    this.menuItems = document.querySelectorAll('.menu-item-has-children > a');\r\n    this.hamburgerButton = document.querySelector('.hamburger-menu');\r\n    this.menuContainer = document.querySelector('.menu-container');\r\n    this.body = document.body;\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    // Inicializa o menu mobile se o botão hambúrguer existir\r\n    if (this.hamburgerButton) {\r\n      this.setupHamburgerMenu();\r\n    }\r\n\r\n    // Inicializa os itens do menu com submenus\r\n    if (this.menuItems.length > 0) {\r\n      this.setupMenuItems();\r\n    }\r\n  }\r\n\r\n  setupHamburgerMenu() {\r\n    this.hamburgerButton.addEventListener('click', () => {\r\n      const isExpanded = this.hamburgerButton.getAttribute('aria-expanded') === 'true';\r\n      this.toggleMenu(!isExpanded);\r\n    });\r\n\r\n    // Fecha o menu ao clicar em um link no mobile\r\n    const menuLinks = document.querySelectorAll('.menu a');\r\n    menuLinks.forEach(link => {\r\n      link.addEventListener('click', (e) => {\r\n        // Se for um link que não tem submenu, fecha o menu\r\n        if (!link.parentElement.classList.contains('menu-item-has-children')) {\r\n          this.toggleMenu(false);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  setupMenuItems() {\r\n    this.menuItems.forEach(menuItem => {\r\n      // Adiciona um botão de toggle para os itens com submenu no mobile\r\n      if (window.innerWidth <= 1024) {\r\n        menuItem.addEventListener('click', (e) => {\r\n          // Só previne o comportamento padrão se for um item com submenu\r\n          if (menuItem.parentElement.classList.contains('menu-item-has-children')) {\r\n            e.preventDefault();\r\n            this.toggleSubmenu(menuItem.parentElement);\r\n          }\r\n        });\r\n      } else {\r\n        // Comportamento original para desktop\r\n        menuItem.addEventListener('click', this.handleMenuItemClick.bind(this));\r\n      }\r\n    });\r\n\r\n    // Adiciona um listener para redimensionamento da janela\r\n    window.addEventListener('resize', this.handleResize.bind(this));\r\n  }\r\n\r\n  toggleMenu(show) {\r\n    this.hamburgerButton.setAttribute('aria-expanded', show);\r\n    \r\n    if (show) {\r\n      this.menuContainer.classList.add('active');\r\n      this.body.style.overflow = 'hidden'; // Impede o scroll do body\r\n    } else {\r\n      this.menuContainer.classList.remove('active');\r\n      this.body.style.overflow = ''; // Restaura o scroll do body\r\n      \r\n      // Fecha todos os submenus abertos\r\n      document.querySelectorAll('.menu-item-has-children').forEach(item => {\r\n        item.classList.remove('active');\r\n      });\r\n    }\r\n  }\r\n\r\n  toggleSubmenu(parentItem) {\r\n    const isActive = parentItem.classList.contains('active');\r\n    \r\n    // Fecha outros submenus abertos\r\n    document.querySelectorAll('.menu-item-has-children').forEach(item => {\r\n      if (item !== parentItem) {\r\n        item.classList.remove('active');\r\n      }\r\n    });\r\n    \r\n    // Alterna o estado do submenu clicado\r\n    if (isActive) {\r\n      parentItem.classList.remove('active');\r\n    } else {\r\n      parentItem.classList.add('active');\r\n    }\r\n  }\r\n\r\n  handleMenuItemClick(e) {\r\n    // Comportamento original para desktop\r\n    e.preventDefault();\r\n    const parent = e.currentTarget.parentElement;\r\n\r\n    if (parent.classList.contains('active')) {\r\n      parent.classList.add('closing');\r\n      parent.classList.remove('active');\r\n\r\n      const submenu = parent.querySelector('.sub-menu');\r\n      if (submenu) {\r\n        const onAnimationEnd = () => {\r\n          parent.classList.remove('closing');\r\n          submenu.removeEventListener('animationend', onAnimationEnd);\r\n        };\r\n        submenu.addEventListener('animationend', onAnimationEnd);\r\n      } else {\r\n        parent.classList.remove('closing');\r\n      }\r\n    } else {\r\n      // Fecha outros submenus abertos\r\n      document.querySelectorAll('.menu-item-has-children.active').forEach(item => {\r\n        if (item !== parent) {\r\n          item.classList.add('closing');\r\n          item.classList.remove('active');\r\n          const submenu = item.querySelector('.sub-menu');\r\n          if (submenu) {\r\n            const onAnimationEnd = () => {\r\n              item.classList.remove('closing');\r\n              submenu.removeEventListener('animationend', onAnimationEnd);\r\n            };\r\n            submenu.addEventListener('animationend', onAnimationEnd);\r\n          } else {\r\n            item.classList.remove('closing');\r\n          }\r\n        }\r\n      });\r\n\r\n      // Abre o submenu clicado\r\n      parent.classList.remove('closing');\r\n      parent.classList.add('active');\r\n    }\r\n  }\r\n\r\n  handleResize() {\r\n    // Se a largura da tena for maior que 1024px, garante que o menu esteja visível\r\n    if (window.innerWidth > 1024) {\r\n      this.menuContainer.classList.remove('active');\r\n      this.hamburgerButton.setAttribute('aria-expanded', 'false');\r\n      this.body.style.overflow = ''; // Restaura o scroll do body\r\n    }\r\n  }\r\n}\r\n\r\n// Inicialização\r\nlet mobileMenu;\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  mobileMenu = new MobileMenu();\r\n});\r\n\r\n// Exporta a instância para uso global, se necessário\r\nwindow.mobileMenu = mobileMenu;\r\n\r\nexport default MobileMenu;\r\n"],"names":["MobileMenu","isExpanded","link","e","menuItem","show","item","parentItem","isActive","parent","submenu","onAnimationEnd","mobileMenu"],"mappings":"mBAAA,MAAMA,CAAW,CACf,aAAc,CACZ,KAAK,UAAY,SAAS,iBAAiB,6BAA6B,EACxE,KAAK,gBAAkB,SAAS,cAAc,iBAAiB,EAC/D,KAAK,cAAgB,SAAS,cAAc,iBAAiB,EAC7D,KAAK,KAAO,SAAS,KACrB,KAAK,KAAI,CACX,CAEA,MAAO,CAED,KAAK,iBACP,KAAK,mBAAkB,EAIrB,KAAK,UAAU,OAAS,GAC1B,KAAK,eAAc,CAEvB,CAEA,oBAAqB,CACnB,KAAK,gBAAgB,iBAAiB,QAAS,IAAM,CACnD,MAAMC,EAAa,KAAK,gBAAgB,aAAa,eAAe,IAAM,OAC1E,KAAK,WAAW,CAACA,CAAU,CAC7B,CAAC,EAGiB,SAAS,iBAAiB,SAAS,EAC3C,QAAQC,GAAQ,CACxBA,EAAK,iBAAiB,QAAUC,GAAM,CAE/BD,EAAK,cAAc,UAAU,SAAS,wBAAwB,GACjE,KAAK,WAAW,EAAK,CAEzB,CAAC,CACH,CAAC,CACH,CAEA,gBAAiB,CACf,KAAK,UAAU,QAAQE,GAAY,CAE7B,OAAO,YAAc,KACvBA,EAAS,iBAAiB,QAAU,GAAM,CAEpCA,EAAS,cAAc,UAAU,SAAS,wBAAwB,IACpE,EAAE,eAAc,EAChB,KAAK,cAAcA,EAAS,aAAa,EAE7C,CAAC,EAGDA,EAAS,iBAAiB,QAAS,KAAK,oBAAoB,KAAK,IAAI,CAAC,CAE1E,CAAC,EAGD,OAAO,iBAAiB,SAAU,KAAK,aAAa,KAAK,IAAI,CAAC,CAChE,CAEA,WAAWC,EAAM,CACf,KAAK,gBAAgB,aAAa,gBAAiBA,CAAI,EAEnDA,GACF,KAAK,cAAc,UAAU,IAAI,QAAQ,EACzC,KAAK,KAAK,MAAM,SAAW,WAE3B,KAAK,cAAc,UAAU,OAAO,QAAQ,EAC5C,KAAK,KAAK,MAAM,SAAW,GAG3B,SAAS,iBAAiB,yBAAyB,EAAE,QAAQC,GAAQ,CACnEA,EAAK,UAAU,OAAO,QAAQ,CAChC,CAAC,EAEL,CAEA,cAAcC,EAAY,CACxB,MAAMC,EAAWD,EAAW,UAAU,SAAS,QAAQ,EAGvD,SAAS,iBAAiB,yBAAyB,EAAE,QAAQD,GAAQ,CAC/DA,IAASC,GACXD,EAAK,UAAU,OAAO,QAAQ,CAElC,CAAC,EAGGE,EACFD,EAAW,UAAU,OAAO,QAAQ,EAEpCA,EAAW,UAAU,IAAI,QAAQ,CAErC,CAEA,oBAAoBJ,EAAG,CAErBA,EAAE,eAAc,EAChB,MAAMM,EAASN,EAAE,cAAc,cAE/B,GAAIM,EAAO,UAAU,SAAS,QAAQ,EAAG,CACvCA,EAAO,UAAU,IAAI,SAAS,EAC9BA,EAAO,UAAU,OAAO,QAAQ,EAEhC,MAAMC,EAAUD,EAAO,cAAc,WAAW,EAChD,GAAIC,EAAS,CACX,MAAMC,EAAiB,IAAM,CAC3BF,EAAO,UAAU,OAAO,SAAS,EACjCC,EAAQ,oBAAoB,eAAgBC,CAAc,CAC5D,EACAD,EAAQ,iBAAiB,eAAgBC,CAAc,CACzD,MACEF,EAAO,UAAU,OAAO,SAAS,CAErC,MAEE,SAAS,iBAAiB,gCAAgC,EAAE,QAAQH,GAAQ,CAC1E,GAAIA,IAASG,EAAQ,CACnBH,EAAK,UAAU,IAAI,SAAS,EAC5BA,EAAK,UAAU,OAAO,QAAQ,EAC9B,MAAMI,EAAUJ,EAAK,cAAc,WAAW,EAC9C,GAAII,EAAS,CACX,MAAMC,EAAiB,IAAM,CAC3BL,EAAK,UAAU,OAAO,SAAS,EAC/BI,EAAQ,oBAAoB,eAAgBC,CAAc,CAC5D,EACAD,EAAQ,iBAAiB,eAAgBC,CAAc,CACzD,MACEL,EAAK,UAAU,OAAO,SAAS,CAEnC,CACF,CAAC,EAGDG,EAAO,UAAU,OAAO,SAAS,EACjCA,EAAO,UAAU,IAAI,QAAQ,CAEjC,CAEA,cAAe,CAET,OAAO,WAAa,OACtB,KAAK,cAAc,UAAU,OAAO,QAAQ,EAC5C,KAAK,gBAAgB,aAAa,gBAAiB,OAAO,EAC1D,KAAK,KAAK,MAAM,SAAW,GAE/B,CACF,CAGA,IAAIG,EACJ,SAAS,iBAAiB,mBAAoB,IAAM,CAClDA,EAAa,IAAIZ,CACnB,CAAC,EAGD,OAAO,WAAaY"}