// Carrossel de Imagens Block Styles
.wp-block-carrossel-imagens {
  width: 100%;
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 2rem 0;

  @media (max-width: 768px) {
    width: 100vw;
    max-width: 100vw;
    margin-left: calc(50% - 50vw) !important;
    margin-right: calc(50% - 50vw) !important;
    padding: 1rem 0;
  }

  .carrossel-imagens-container {
    width: 100%;
    padding-bottom: 50px; // Space for navigation buttons

    .carrossel-imagens-carousel {
      width: 100%;

      // Individual image cells
      .imagem-cell {
        width: 25%; // 4 items on desktop
        padding: 0 20px;

        @media (max-width: 1024px) and (min-width: 769px) {
          width: 50%; // 2 items on tablet
        }

        @media (max-width: 768px) {
          width: 100%; // 1 item on mobile
          padding: 0 1rem;
        }

        .imagem-item {
          // background: #fff;
          // border-radius: 8px;
          overflow: hidden;
          // box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
          transition: all 0.3s ease;
          height: 100%;

          .imagem-wrapper {
            width: 100%;
            height: 200px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;

            @media (max-width: 768px) {
              height: 200px;
            }

            img {
              width: 90%;
              height: auto;
              object-fit: cover;
              transition: transform 0.3s ease;
            }
          }
        }
      }

      // Flickity overrides for this specific carousel
      .flickity-prev-next-button {
        top: auto;
        bottom: -50px;
        width: 30px;
        height: 30px;
        padding: 0;
        background-color: #666;
        border: 1px solid #666;
        
        &:hover {
          background-color: #003366;
          border-color: #003366;
        }

        &:focus {
          outline: none;
          box-shadow: 0 0 0 5px rgba(0, 51, 102, 0.1);
        }

        &:disabled {
          opacity: 0.3;
          cursor: not-allowed;
        }

        .flickity-button-icon {
          left: 7px;
          top: 7px;
          width: 15px;
          height: 15px;
        }

        // Previous button - positioned left of center
        &.previous {
          left: calc(50% - 36px);
        }

        // Next button - positioned right of center
        &.next {
          right: calc(50% - 36px);
        }

        path {
          fill: #fff;
        }
      }

      .flickity-page-dots {
        display: none; // Hide page dots as requested
      }

      // Mobile specific adjustments
      @media (max-width: 768px) {
        .flickity-prev-next-button {
          display: none; // Hide navigation buttons on mobile
        }
      }
    }
  }

  // Loading state
  &.is-loading {
    .carrossel-imagens-carousel {
      opacity: 0.5;
      pointer-events: none;
    }
  }

  // Empty state
  &.is-empty {
    .carrossel-imagens-container {
      text-align: center;
      padding: 3rem 1rem;
      color: #666;
      font-style: italic;

      &::before {
        content: "Nenhuma imagem adicionada ao carrossel";
      }
    }
  }
}
