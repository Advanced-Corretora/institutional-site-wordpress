/* empty css     */class u{constructor(){this.menuItems=document.querySelectorAll(".menu .list > .menu-item-has-children > a"),this.hamburgerButton=document.querySelector(".hamburger-menu"),this.menuContainer=document.querySelector(".menu-container"),this.closeButton=document.querySelector(".close-icon"),this.body=document.body,this.headerEl=document.querySelector(".header"),this.overlay=document.querySelector(".submenu-overlay"),this.closeSubmenuBound=this.closeSubmenu.bind(this),this.hoverTimeout=null,this.searchButton=document.querySelector(".deskButtonArea .search-button"),this.searchOverlay=document.querySelector(".deskButtonArea .search-overlay"),this.searchInput=document.querySelector(".deskButtonArea .search-input"),this.searchClose=document.querySelector(".deskButtonArea .search-close"),this.mobileSearchInput=document.querySelector(".mobile-search-input"),this.init()}init(){this.overlay?this.headerEl&&this.overlay.parentElement!==this.headerEl&&this.headerEl.appendChild(this.overlay):(this.overlay=document.createElement("div"),this.overlay.className="submenu-overlay",(this.headerEl||document.body).appendChild(this.overlay)),this.overlay.addEventListener("click",()=>{document.querySelectorAll(".menu-item-has-children.active").forEach(e=>{this.closeSubmenu(e)})}),this.hamburgerButton&&this.setupHamburgerMenu(),this.menuItems.length>0&&this.setupMenuItems(),this.searchButton&&this.searchOverlay&&this.setupSearchFunctionality(),this.mobileSearchInput&&this.setupMobileSearchFunctionality()}setupHamburgerMenu(){this.hamburgerButton.addEventListener("click",()=>{const t=this.hamburgerButton.getAttribute("aria-expanded")==="true";this.toggleMenu(!t)}),document.querySelectorAll(".menu a").forEach(t=>{t.addEventListener("click",s=>{t.parentElement.classList.contains("menu-item-has-children")||this.toggleMenu(!1)})}),this.closeButton&&this.closeButton.addEventListener("click",()=>{this.toggleMenu(!1)})}setupMenuItems(){this.applyDesktopSubmenuEvents(),window.addEventListener("resize",()=>{this.removeDesktopSubmenuEvents(),this.applyDesktopSubmenuEvents()})}applyDesktopSubmenuEvents(){window.innerWidth>1024&&this.menuItems.forEach(e=>{const t=e.parentElement,s=t.querySelector(".submenu-area");e.addEventListener("mouseenter",()=>this.handleMenuItemHover(e,!0)),s&&s.addEventListener("mouseenter",()=>this.handleMenuItemHover(e,!0)),t.addEventListener("mouseleave",n=>{s&&!s.contains(n.relatedTarget)?this.handleMenuItemHover(e,!1):s||this.handleMenuItemHover(e,!1)})})}removeDesktopSubmenuEvents(){this.menuItems.forEach(e=>{const t=e.parentElement,s=t.querySelector(".submenu-area");e.removeEventListener("mouseenter",()=>this.handleMenuItemHover(e,!0)),s&&s.removeEventListener("mouseenter",()=>this.handleMenuItemHover(e,!0)),t.removeEventListener("mouseleave",()=>this.handleMenuItemHover(e,!1))})}toggleMenu(e){this.hamburgerButton.setAttribute("aria-expanded",e),e?(this.menuContainer.classList.remove("closing"),this.menuContainer.classList.add("active"),this.body.style.overflow="hidden",this.updateOverlayState()):(this.menuContainer.classList.add("closing"),this.menuContainer.classList.remove("active"),setTimeout(()=>{this.body.style.overflow="",this.menuContainer.classList.remove("closing")},300),document.querySelectorAll(".menu-item-has-children").forEach(t=>{t.classList.remove("active"),t.classList.remove("closing")}),this.updateOverlayState())}updateOverlayState(){const e=document.querySelector(".menu-item-has-children.active, .menu-item-has-children.closing"),t=this.menuContainer&&(this.menuContainer.classList.contains("active")||this.menuContainer.classList.contains("closing"));document.body.classList.toggle("submenu-open",!!e||t)}closeSubmenu(e){if(!e||!e.classList.contains("active"))return;e.classList.add("closing"),e.classList.remove("active");const t=e.querySelector(".submenu-area");if(t){const s=n=>{n.target===t&&(e.classList.remove("closing"),t.removeEventListener("animationend",s),this.updateOverlayState())};t.addEventListener("animationend",s,{once:!0})}else e.classList.remove("closing");this.updateOverlayState()}handleMenuItemHover(e,t,s=!1){const n=e.parentElement;this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=null),t?(document.querySelectorAll(".menu-item-has-children.active").forEach(i=>{i!==n&&this.closeSubmenu(i)}),n.classList.remove("closing"),n.classList.add("active"),this.updateOverlayState()):this.hoverTimeout=setTimeout(()=>{const i=n.querySelector(".submenu-area"),a=i&&(i.matches(":hover")||i.matches(":active")),o=e.matches(":hover")||e.matches(":active");!a&&!o&&(this.closeSubmenu(n),this.updateOverlayState())},s?0:200)}setupSearchFunctionality(){this.searchButton.addEventListener("click",e=>{e.preventDefault(),this.toggleSearch(!0)}),this.searchClose&&this.searchClose.addEventListener("click",e=>{e.preventDefault(),this.toggleSearch(!1)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&this.searchOverlay.classList.contains("active")&&this.toggleSearch(!1)}),this.searchInput&&this.searchInput.addEventListener("keydown",e=>{e.key==="Enter"&&(e.preventDefault(),this.performSearch())})}toggleSearch(e){e?(this.menuContainer.style.display="none",this.searchOverlay.style.display="flex",setTimeout(()=>{this.searchOverlay.classList.add("active")},10),setTimeout(()=>{this.searchInput&&this.searchInput.focus()},100)):(this.searchOverlay.classList.remove("active"),setTimeout(()=>{this.searchOverlay.style.display="none",this.menuContainer.style.display=""},100),this.searchInput&&(this.searchInput.value=""))}performSearch(){const e=this.searchInput.value.trim();e&&(window.location.href=`${window.location.origin}/?s=${encodeURIComponent(e)}`)}setupMobileSearchFunctionality(){this.mobileSearchInput.addEventListener("keydown",e=>{e.key==="Enter"&&(e.preventDefault(),this.performMobileSearch())})}performMobileSearch(){const e=this.mobileSearchInput.value.trim();e&&(window.location.href=`${window.location.origin}/?s=${encodeURIComponent(e)}`)}}let r;document.addEventListener("DOMContentLoaded",()=>{r=new u});window.mobileMenu=r;
//# sourceMappingURL=main.js.map
